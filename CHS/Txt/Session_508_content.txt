用Apple News Format创造丰富和响应性的新闻报道
你好 欢迎来到Apple News Format演讲
我是Casey今天我和同事Dan
会向你们展示你如何创建
一些漂亮和迷人的新闻文章使用Apple News Format来创建
在今天演讲的最后你会有一个详尽的理解
Apple News Format的所有设计能力
和理解所有用来构建那些新闻报道的代码
不管你是否相信 我们还要识别一些效率
在你的设计和标记之间
Dan会覆盖一系列的特性它们允许你创建
一些漂亮的布局它们是杂志风格的回忆录
包括的特性有首字放大 侧栏画廊和动画
有了Apple News Format你的文章在iPad上看起来会很好
它们会不费力地适应所有屏幕尺寸
因为Apple News Format是内在响应的
它确保你的新闻报道总是有最好的外观
很明显今天有很多特性要深入的看一看
但是首先很重要的一点是我给你们一些背景
关于News应用本身
因为News是你的用户
将如何发现和体验你的新闻报道的基础
News是一个新闻聚合应用
它在iOS上被预装在美国、英国和澳大利亚
这很乏味是吗？新闻聚合
我更愿把News想成一种媒人服务
News帮助读者找到他们会喜欢的新闻报道
这对发行者是很好的消息
因为这表明他们将找到新粉丝
News做出它的推荐基于频道和主题
读者选择关注
然后它把相关的新闻报道放入读者的For You摘要
这个For You摘要是关键
对于用户和出版商的内容发现而言
作为读者我可以找到任何我感兴趣的从CNN到精酿啤酒
这是Eddy's For You Feed
一级方程式和超跑
在任何情况下 关键在于 是否在新闻里有这个幅度的内容
这个幅度 事实上任何人都可以发布到News应用
你今天就可以发布并开始连接读者
并且开始赚钱
你可以用不同方法来这么做
包括RSS News Publisher创作工具和Apple News Format
如果你还没有看过
你应该看看“Apple News入门”演讲
是这周早些时候进行的现在视频已经可获得了
那个演讲回顾了所有三种方法
这个部分只聚焦在AppleNews Format上
这是因为Apple NewsFormat对很多事很有帮助
你会想要做包括汉字创作的文章
可能在你在CMS加一个翻译层
这样你可以用程序发送内容文章和新闻报道
从你的CMS到Apple News应用
甚至贡献一些平台的插件
如WordPress和Drupal
知道Apple NewsFormat真的很有帮助
而且它只是JSON
Apple News Format用JSON来创造强大的设计
而且会很快并且是响应式的
JSON也很适合用来在不同格式间进行转换
它允许我们有可扩展的格式
Apple News Format的可扩展属性
非常重要因为这允许我们快速开发特性
不需要额外的依赖
所以我认为我们围绕News给了你们很好的背景
我们可以深入到AppleNews Format的具体细节
交给Dan了
谢谢Casey
现在我们对文章所在的世界有了一定了解
让我们深入具体细节来看看你如何创建文章
用Apple News Format
我们今天要做的是我们要用这个示例文章
我们要把它拆解成骨架
然后我们要再把它组装加来这样我们能了解基本知识
我们要使它是响应的
最后我们要添加一些动画
这是我们文章的骨架
让我们看一看一些属性
第一个属性是标题
这是一个标题它会显示给浏览摘要的用户
接下来我们有摘录这是我们的第一个元数据
这是一些文本的片断它们也和标题一起显示在摘要中
最后你要定义缩略图使用缩略图URL
现在让我们后退一下谈谈缩略图的一些提示
缩略图提示
首先接受的缩略图格式是JPEG和PNG
接下来当然是发送给我们高分辨率的图像
我们会在我们的后台处理向下取样
最小尺寸是300乘300像素
如果小于这的话你的图片不会显示
所以一定要把你最好的发送给我们
我们有一些适度的关于宽度和高度比例的要求
对缩略图你的宽度至少要是1比2
但是不能宽于3比1
接下来我们今天要谈论的最后元数据是cannonicalURL
这只是你文章的网络版本
如果你有请一定包含这个元数据
这对用户分享你的文章很重要
对那些无法访问Apple News的人
有这么一个版本可以后退提供更好的体验
我们谈过了元数据
让我们深入看看内容
内容存在于你的文章的一个顶层数组中 叫做组件
你的内容的每一个部分都是由一个JSON对象来表示
这就是组件
每一个都有一个语义角色 比如标题1、标题、介绍、署名和主体
为你的内容选择最合适的角色
这对无障碍性是关键的
我们涉及了语义但是如果你要给你的文本加上式样呢？
这时就需要组件文本式样
组件文本式样是一个顶层的字典
我们会在三个不同的层定义式样
我们要做的第一件事是定义默认式样
这会为所有文本提供一个基本式样
然后我们会定义一系列角色特定的式样
它们会以默认为基础
最后我们会定义非默认式样
这用于当你需要一些角色的例外情况时
这就是我们的默认式样
让我们看看其中的属性
首先我们有字体名
要记住的一点是字体名不是
申明你的字体和在CSS中不完全一样
请记住两件事
引用字体
首先当引用字体时你需要调用它们
通过它们的PostScript名而不是家族名
第二你使用的字体需要在iOS上可用
如果你想表达那些甜蜜的90后的设计技能
你可以用黑板家族
用这PostScript名
接下来我们有文本颜色
文本颜色使用16进制值
如果你想你可以用短的格式
如果你需要透明度你可以用8个字符的版本
然后我们有字体大小字体大小是用点来申明的
但我们把它简写成一整数
现在因为它是点不要把它想成一个绝对的值
应用会用你的字体大小
当用户在不同设备上看时
它会做一些调整来优化易读性
一个好的规则是尽量不要让你的主体小于16点
类似 行高也是用点定义的
你想定义你的行高和你选择的字体大小是相关的
我们会在所有设备上保持这个比例
最后我们有链接式样
这里你需要定义一些覆盖
为任何你的组件的文本中的链接
这里我们有一个文本颜色
但是显然没有什么会阻止我加一个下划线
所以现在我们有默认式样让我们添加第一个角色特定的默认
这一个有一个特殊的名字就像默认 它叫默认主体
它会为所有主体组件提供默认式样
有两个新属性
我们有段落前和后间隔
你可能希望它们影响段落间隔
但是在基于组件的系统中有段落是什么意思
让我们看看我们的第一个主体组件
这个组件实际上有两个段落在其中
这是第一个
这是第二个
我们用两个新行把它们分开标记形式
你可能注意到这个格式申明
Apple News Format中 你要选择纯文本或标记
你的文本格式
在这个例子中我们要利用它
有了这个标记式样、链接和文本
不论你选择纯文本还是标记
你可以用这些段落间隔属性
来影响组件中的段落间的间隔
所以现在我们看到了怎么创建角色特定的默认
让我们快速完成剩下的
对我们顶部的标题我添加了一些字距
给字母一点空间
增加了标题的大小添加了一些颜色让介绍的颜色变浅
署名的一些细小改变以及继续往下的副标题
我们把这些障碍清除了
让我们看些更有趣的东西
让我们创建第一个非默认式样
我们会用这个机会来添加首字放大
一个需要记得的事是因为我们要在三层中做这些
我们已经包括了大部分我们想要的针对主体组件的式样
在默认和默认主体中
所以在第三层中有这些定制式样
我们要做的是定义首字放大看起来应该是怎样的
我们要在一个特殊的首字放大属性中这么做
在那个里面你需要为首个字符定义一些覆盖式样
在组件的第一段中
有趣的事是这个行数属性
你要在这定义你的首字放大应该跨越多少行文本
你可以看到我只用一个很简单的两行首字放大
所以我们完成了我们的式样
但是因为那没有语义关系
在组件的文本式样和特定组件之间
我们需要解决它
我们添加文本样式属性到组件中
并且给式样命名
在这个例子中它叫做主体第一个首字放大
一旦你这么做了
在右边你可以看到我们得到了两行的首字放大
返回 和我们开始的原始文本倾倒相比
现在我们有一些文本样式看起来好多了
但是它有一点杂乱
我们显然在这需要一些边缘
这是用到组件布局的地方
组件布局是我们的下一个要添加的顶层字典
在其中我们可以定义布局这允许我们添加
顶部和底部边缘到我们的组件中
我们还做一些其他事我们晚点会涉及
我们把组件布局应用于组件上
通过添加布局属性
一旦我们这么做我们给文章加了一些留白
和排版看起来好多了
但是让我们利用另一个简单的酷方法
来添加更多对垂直间隔的控制
让我们添加分隔符
让我们把它放在标题、顶部和文章标题之间
这是我们的分隔符
你可以看到我们有一些对笔画的控制
我们可以改变宽度和颜色
但是我认为很酷的是
发生在布局上的事
让我们看看分隔符
看它怎么延伸到屏幕右边
分隔符没有内在东西
是我们在组件布局中做的一些事
我们用一个特殊属性叫做ignoreDocumentMargin
你可以看到我给它一个值右边
这的意思是忽略边缘一直延伸到边界
所以我们有组件文本样式我们有组件布局和分隔符
文章看起来很好你知道的 从文本的角度
现在是时候加一些有趣的东西了
最好的开始方法是添加图片
所以有我的图片组件
在下面我添加标题组件
但是在页脚组件中你可以看到标题属性
看起来和标题组件是重复的
在这里发生的是我们定义一个标题
如果用户点击图片它会出现
会进入全屏视图像你在右边看到的
这出于无障碍性的原因是一个需要包括的关键的东西
因为这个标题会被读给VoiceOver用户
接下来回到我们的布局
你可以看到这个图片是等屏宽的
它从屏幕的左边一直到
屏幕的右边
这不是图片组件的内在东西
我们又一次使用ignoreDocumentMargin属性
然而这次所用的值不是右而是真
意思是忽略两边的边缘
最后我们有我们的URL指向图像资源
我会返回去谈谈
关于一些显示在文章视图里的图片的要求
图片可以被本地或远程引用只要使用正确的计划
图片要求
再一次的和缩略URL一样请一定发送给我们高分辨率的图片
我们会根据设备处理向下取样
对于文章视图里的图片你可以使用JPEG、PNG和GIF
我们当然支持动画GIF
这是一张图片但若你有很多张图片
在主题上是一起的？
这是使用画廊组件的地方
要实现很简单
你简单地定义一个画廊角色
你提供给它一个图片数组
你获得的是优秀的用户体验用户可以使用
这个文章视图中的幻灯片
他们可以点击 进入全屏视图查看图片的标题
当你完成了 滑出并继续阅读
现在在这的基础上我们有一个标准画廊的替代物
叫做马赛克画廊
它有相同的实现
除了你把角色从画廊切换成马赛克
你获得的是很酷的混合的图片
来自你的所有图片你可以在右边看到
最好的是用户仍然能够点击进入画廊
并获得相同的全屏体验
接下来我们有社交媒体嵌入
Apple News Format支持它们中一系列包括Facebook、Vine
和你能看到Twitter
实现真的和知道
你想要嵌入东西的URL一样简单
接下来是更复杂的嵌入我们支持Apple Maps
这是来自旅行的好例子
很酷使用了Apple Maps特性
包括其中的一个是当你想向用户显示一个位置
但是给他们机会获得一些和他们有关的语境
所以如果你添加了所有的这些很棒的特性和有趣的内容
你可能在寻找个方法让你的付出金钱化这时可以用到广告
让我们快速的涉及一下两种方式
你可以添加广告到Apple News Format文章中
首先如果你需要控制广告组件是你要用的方法
你把这些放入你的内容
当你觉得在那里显示一个广告是合适的
广告
如果你不需要太多控制
更简单的选择是使用动态广告功能
有了它 你要做的仅仅是指定频率
你的广告出现的频率应用会帮你放置广告
目前为止我们有针对手机的很好的移动体验
但把这些放到iPad上时发生什么？
所以我们的移动优先方法在此时 留给我们
一些设计机会
我们的文章在iPad上
我们当然可以更好地利用空白空间
像这是一种大块无聊的文本
最好加一些变化来保持对读者的吸引
我们有一个很坏的行长度问题
特别是你把iPad放在横向方向时
对所有这些问题的解决办法是Apple News Format的列系统
这是我们在数字时代解决经典的问题
你怎么为多个屏幕设计
为多个屏幕设计
当然有一些已有的方法
尤其是响应式设计你对你的屏幕大小反应
有移动优先设计你用它增强体验
因为你获得更多屏幕空间
这是尝试过的有效的方法
但是让它们工作是不容易的
有时你以重新设计告终
你的文章或者内容针对不同情况
有了Apple News Format
我们真希望你有那么一次只设计你的文章
此外我们希望你设计最丰富的体验
我们希望你聚焦在大的漂亮版本
我们不希望你陷入媒体查询和断点中
因为应用内在设计为你处理这类缩放问题
它是怎么工作的？
它开始于一个横向的iPad
我们做为内容创作者把屏幕分成多列
现在我已经分成了10列但是作为内容创作者
你可以选择你想用多少列
是多少并没有固定不变的规定
只要记得你加入越多列你加入越多复杂性到你的设计中
把屏幕分成列
赋予列跨度
一旦我们决定了我们一共要在文章中用多少列
接下来我们要赋予内容列的跨度
在这个例子中我们的主体内容的主块
使用10列中的前7列
右边的标题使用最后几列
当我们拿到设计
我们在不同方向不同设备上看它
我们看到应用
自动收缩可用的列数来适应屏幕大小
神奇的地方是
智能的决定如何修改组件
对应新的屏幕大小
你可以看到当iPad是纵向时
东西变得更窄但是在手机上
那并不合适
所有东西返回到堆叠顺序
在此时你可能有兴趣开始做一些算术
找出对这个和这个屏幕宽度
有这个和这个布局列跨度是什么？
这会变得复杂和烦人
Apple News Format的精神并非如此
因为我们想要你集中在你的设计的视觉效果上
为了帮助你我们开发了一个很棒的OS X应用叫新闻预览
作为设计师或开发者或两者都是
你需要能够快速遍历你的设计
并且知道它们会看起来很好
这就是新闻预览的作用
因为它允许你获得视觉更新关于你的文章看起来会是怎样
当你忙于代码时
它最好的是利用Xcode模拟器这样你可以看到多台设备
多个方向 都是实时更新在你工作的同时
所有Apple开发者都可在developer.apple.com获得它
回到我们的JSON我们谈论了列系统的概念
让我们看看我们怎么让这些发生在文章JSON中
我们要返回到我们的文章骨架
我们要看一个顶层属性叫做布局
这是你的文档布局
它有四个属性
关于这些属性你在说的是
对一个指定宽度 假设1024对一个横向iPad
我想把屏幕分成10列在中间有20点的间隔
对左边和右边我们有85点的边缘
当然这些数字是可设置的
它们为这个演示被选择
接下来 一旦我们有了文档布局
我们需要开始应用一些列跨度到单独的组件上
因为显然的行长度可读性问题
我要聚焦在我们的主体组件上
我们在我们的第一个主体组件
我们要用一个叫没有边缘的布局
让我们看看定义
并添加两个新属性
第一个新属性是开始列
它简单地表示在屏幕上从左到向
那个内容占据的第一列是什么
我选择了0作为第一列
然后我们有列跨度不出所料
你可以决定该内容总共跨过几列
我把它设成10这也是文档的总列数
你可能不奇怪文章中没有东西改变了
默认对所有组件
是跨过它们的容器的整个宽度
让我们让它更有趣
让我们实现一个居中的布局为我们的10列布局
已经看起来好多了
这里发生了什么？
我设置了它所以我们的主体内容占据的第一列
是我们10列布局的第3列
当然如果你从0开始第3列的索引值是2
那么我减少了内容的宽度
现在它只占据10列中的6列
这看起来很好
但是我个人更喜欢不对称设计
所以我要把它移到左边
转而占据前7列
现在如果我们把它应用到我们其他的组件上
开始看到我们的设计集合在一起
我们切换方向看起来仍然不错
我们维持了从一开始就有的很好的体验
我们的一个设计无缝缩放到多个设备上
很容易
让我们把它作为基础在其上进行建设
之前我们谈到我们有很长的一块文本很无聊
我们可以用一些视觉变化
当然经典的对这个问题的解决方法是添加抬升式引用
让我们从一个主体组件中提取一些文本
让我们放入一个抬升式引用
接下来让我们用我们的组件布局和抬升式引用
并把它推到边缘
所以我为开始列和列跨度选择一个值
来允许抬升式引用清除所有主体组件
你能看到它成功地做到了这些
它向上浮动直到遇到障碍
这不是我们想要的
我们需要做的是创造一个视觉关系
在抬升式引用和一些东西之间
幸运的是我们有一个内在语义关系
在抬升式引用和它提取自的文本间
所以我们要使用叫锚的东西
Apple News Format 中
我们要锚定抬升式引用到主体组件
并包含我们为抬升式引用提取出的文本
第一步是添加一个标识符
给我们的主体组件这样我们可以调用它
然后我们要添加一个锚属性到抬升式引用组件中
在里面我们会调用刚刚创建的标识符
然后我们定义我们想怎么对齐这两东西
这个例子里我们的意思是
我们想顶部对齐来源也就是抬升式引用
和目标、主体组件
我们一旦这么做我们得到很酷的效果
我们的抬升式引用悬挂在边缘
就在最相关的内容边上
我们有更多空白空间的有趣用法
但是因为我们有内在文本关系
在抬升式引用和它提取自的文本之间
我们实际上可以更进一步
锚定到文本本身
这是一个两步的过程
首先我们要返回到抬升式引用布局
更新它
这样它和主体组件有1列重叠
然后调用文本范围
抬升式引用是从它之中提取出来的
一旦我们这么做了 我们得到很酷的把抬升式引用嵌入文本的效果
跨设备
当然你把它放到其他方向的设备上时
它总是做正确的事包括减少宽度
或者在手机上返回到一个逻辑的堆叠顺序上
此时事情都集合在一起
我们可以停止并开始把它做为我们内容的模板来使用
但是如果我们在文章中滚动看看目前的体验
看起来少了什么
比如看看这篇来自Harper的文章
看看主体内容是怎么向上滑动到顶部的图片之上的
当图片进入视口时会淡入
这是很酷的效果
我们可以从中受到启发
所以让我们在文章中添加一些运动
添加运动
我们今天要做的
是利用很酷的Apple News Format特性
叫场景动画
第一步我们要得到我们的图片
我们要移动它成为文章的第一个组件
接下来我们做一些转化
我们要得到这些图片
把它从图片组件
变成一个容器的背景填充
要这么做我们要首先添加一个容器
我们用一个语义容器组件叫做页头
现在并没有任何变化因为我们只有一个空的容器
为了调试原因
我会添加高度和背景色
这样能看到我们的容器
现在我们有可爱的灰盒子
在JSON中有些事情需要注意
首先我添加了背景颜色用一个新属性叫式样
这允许我们找到一个组件式样
组件式样使你能访问更高层的设计元素比如背景填充和边界
下一个有趣的事是它定义了
我们的内联式样我之前没有这么做过
在技术层面 这并没有区别
在内联定义和放到其他地方做为主引用
这只是组织和方便方面的事
然后我们有高度
我控制了容器的高度
通过一个属性叫最小高度在组件布局中
我给它一个值44vmax
它的意思是
我们希望这个容器至少有最大视口方向的44％长
vmax单位是一些特殊尺寸单位之一
Apple News Format中可用
现在我们有可爱大小的灰盒子
让我们继续把它从背景颜色切换成图片填充
这很简单
只需要添加填充属性到式样中
有了这我们可以摆脱图片
我们完成了转换
我们更接近我们的场景动画
下一步我们需要建立一个场景
我们要做的是把整个文章分成
两个容器 语义容器叫章节
我们的第一个章节是我们的场景
动画会在这发生
所以我把页头容器放在这里面
文章的其他东西我会放在第二个章节
为了让我们的场景发生
这很容易
你简单地添加一个场景属性到第一个章节
然后你定义你想要的动画
在这 我用一个叫褪色固定页头
它的意思是使页头容器
当用户滚动时它会固定在视口顶部
文章其他部分会向上滑动到它上面
页头上的背景填充会淡出
让我们看看实际演示
这是我们的文章
用户滚动而且文本向上移动到图片之上图片开始淡出
这是这个效果的要点但是不完全是我想要的
我们有那些无装饰的文本向上移动变得不可阅读
不是我想要的效果
幸运的是解决办法非常简单
我们只需要给第二个章节添加背景颜色
我们会让剩余内容保持
白色背景并且整洁地向上移动
让我们看看实际效果
我们仍然得到一个淡出背景动画
它还是可读的
体验好多了
现在我们加入了动画
我们需要更关注一些设计元素
在文章体验之上 使它看起来更好
第一个我要处理的问题是当我们移动图片时
突然标题变得奇怪并且有很多东西
在它和它描述的东西之间
有不同方法解决这个问题
我今天要用的是利用我们的锚定技能
把它放到边缘去
它的效果是
使用一条垂直的线使关联更清晰
而且它使顶部的空白空间更有趣
接下来我要做的是
我想利用我们在使用容器的事实
顶部是一个图片填充容器而不是一个图片
关于它最酷的事
是你把东西放在容器里
主要是文本
表明我们可以分层让文本在图片之上
使我们的文章顶部看起来更有趣
所以我拿出标题们
把它们放到页头容器中
这看起来很酷除了它们很奇怪地浮动到顶部
如果我能把它们和底部对齐就好了
我可以 用锚属性的另一个功能
如果你在一个容器内的对象上使用锚
你可以它的调整对齐 与容器相对
在这个例子中我要用锚的目标位置是底部
你可以看到文本固定在页头容器底部
看起来好多了
我们很接近了
我们用分层把文本放在图片上方
我们有漂亮的空白空间使用我们有好的排版
我想在宣布文章顶部体验完成前做最后一件事
我想添加一些内联文本式样
让我们再次来到文章骨架
我们要添加一个新的顶层字典叫文本式样
文本式样和组件文本式样类似
除了它不是给组件中的所有文本加式样
文本式样允许你只给一个范围的文本加式样并有两个式样
一个为灰色文本一个为加粗文本
要运用它们我要利用
Apple News Format中 一个很酷的标记扩展
这是我想影响的两个组件
我们有标题组件和第一个主体组件
要应用我的式样
我要做的是用中括号包裹我想要影响的文本
紧跟着的是我要应用的式样在大括号里
一旦你这么做你可以看到这个例子标题
我给了一些灰色文本颜色到一些单词上
然后在第一个主体组件上看到加粗效果
我很满意
可以说我们的文章顶部的体验完成了
只差一个调整就可以说整个文章完成了
我想给一些元素加些移动
在文章下面一些地方
比如在右边的这个抬升式引用
如果它能从右边滑入那会很酷
如果画廊也能滑入那就酷了
但是对马赛克和标题
我想要当视口到达它们的时候它们能淡入
要实现这些很简单
这是抬升式引用
添加动画我要做的是添加一个动画属性
在里面我申明想要的种类
此时我想要移动进入动画
有了移动进入我需要指明它进来的方向
我要它从右边滑入
现在我要把同样的事应用在画廊上
然后我要添加淡入动画到马赛克和两个标题
让我们看看总体效果
我们有场景动画这是抬升式引用
滑入
画廊 马赛克 标题淡入 淡入
看起来好多了
用一些动画我们使在文章中滚动
更有趣更动态
这个地方看起来是很适合结束
Apple News Format细节的速成课
我们覆盖了很多
我们添加了一些文本和图片内容
我们看到如何使布局跨设备运行
我们用锚来创造视觉关系
用几行代码我们添加了很酷的动画
当然这只是冰山一角
我鼓励你们下载工具 阅读文档自己玩一玩它们
我很想看到我们的内容创造者会做些什么
交回给Casey
嘿 Dan给你们一个很好的关于Apple News Format介绍
并展示了如何使用新闻预览工具
来创造将在每台设备上看起来很棒的新闻报道
我希望我们今天鼓舞了你们去注册news publisher
查看资料 发布新闻报道 赚钱
帮助作者曝光 为平台的插件做贡献
这个链接会带你到你想去的所有地方
为了得到那些材料来开始
包括你的文档和Dan今天展示的一些示例代码
确保你观看那个News演讲
它覆盖了你可以发布的多种方式
谢谢你们本周的出席
很高兴有你们在这儿演讲至此结束